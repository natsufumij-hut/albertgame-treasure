[gd_scene load_steps=11 format=3 uid="uid://d16f0st6qpqlc"]

[ext_resource type="TileSet" uid="uid://drvfmo2x0n0i" path="res://level/tile_set.tres" id="1_uhx3b"]
[ext_resource type="Script" path="res://level/tile_animated.gd" id="2_n5aev"]
[ext_resource type="PackedScene" uid="uid://c4eprnllagbxq" path="res://player/player.tscn" id="3_uf4m5"]
[ext_resource type="PackedScene" uid="uid://b3s6tvhj3mq14" path="res://ui/hud.tscn" id="4_b22fk"]
[ext_resource type="Texture2D" uid="uid://cnlqi6jkxchbs" path="res://asset/bg.png" id="5_jdpxj"]
[ext_resource type="Texture2D" uid="uid://ph58hdih3cmf" path="res://asset/items_spritesheet.png" id="6_o6u81"]
[ext_resource type="AudioStream" uid="uid://cchsg4p8q6c6l" path="res://asset/audio/green.mp3" id="7_bcob7"]

[sub_resource type="AtlasTexture" id="AtlasTexture_pjx6y"]
atlas = ExtResource("6_o6u81")
region = Rect2(0, 73, 129, 71)

[sub_resource type="AtlasTexture" id="AtlasTexture_1wpqr"]
atlas = ExtResource("6_o6u81")
region = Rect2(0, 146, 128, 71)

[sub_resource type="AtlasTexture" id="AtlasTexture_ifcuq"]
atlas = ExtResource("6_o6u81")
region = Rect2(0, 146, 128, 71)

[node name="Level3" type="Node2D"]

[node name="TileMap" type="TileMap" parent="."]
position = Vector2(30, 67)
tile_set = ExtResource("1_uhx3b")
format = 2
layer_0/name = "地形"
layer_0/tile_data = PackedInt32Array(655358, 65536, 6, 720894, 65536, 6, 655359, 65536, 6, 720895, 65536, 6, 589824, 65536, 6, 655360, 65536, 6, 589825, 65536, 6, 655361, 65536, 6, 589826, 65536, 6, 655362, 65536, 6, 589827, 65536, 6, 655363, 65536, 6, 589828, 65536, 6, 655364, 65536, 6, 589829, 65536, 6, 655365, 65536, 6, 589830, 65536, 6, 655366, 65536, 6, 589831, 65536, 6, 655367, 65536, 6, 589832, 65536, 6, 655368, 65536, 6, 589833, 65536, 6, 655369, 65536, 6, 589834, 65536, 6, 655370, 65536, 6, 589835, 65536, 6, 655371, 65536, 6, 589836, 65536, 6, 655372, 65536, 6, 589837, 65536, 6, 655373, 65536, 6, 589838, 65536, 6, 655374, 65536, 6, 589839, 65536, 6, 655375, 65536, 6, 589840, 65536, 6, 655376, 65536, 6, 589841, 65536, 6, 655377, 65536, 6, 589842, 65536, 6, 655378, 65536, 6, 589843, 65536, 6, 655379, 65536, 6, 589844, 65536, 6, 655380, 65536, 6, 589845, 65536, 6, 655381, 65536, 6, 589846, 65536, 6, 655382, 65536, 6, 589847, 65536, 6, 655383, 65536, 6, 589848, 65536, 6, 655384, 65536, 6, 589849, 65536, 6, 655385, 65536, 6, 589850, 65536, 6, 655386, 65536, 6)
layer_1/name = "装饰"
layer_1/tile_data = PackedInt32Array(393220, 2, 2, 262160, 2, 2, 262167, 2, 2, 393241, 196609, 2, 131102, 2, 2, 262176, 2, 0, 131114, 2, 2, -327637, 327682, 0, 393261, 2, 0, 393217, 262144, 3)
layer_2/name = "陷阱"
layer_2/tile_data = PackedInt32Array(458773, 2, 1)
layer_3/name = "干涉地形"
layer_3/tile_data = PackedInt32Array(524297, 458752, 3, 524298, 458752, 3, 524299, 458752, 3, 458761, 393216, 8, 458762, 393216, 8, 458763, 393216, 8, 262182, 393218, 1)
layer_4/name = "可收集道具"
layer_4/tile_data = PackedInt32Array(131078, 65538, 2, 196617, 262146, 2, 262154, 262146, 2, 393235, 65538, 2, 196641, 262146, 2, 196640, 262146, 2, 131095, 262146, 2, 131094, 262146, 2, 42, 262146, 2, 65578, 262146, 2, 131114, 262146, 2, 458771, 393218, 3, 393248, 1, 1)
layer_5/name = "可交互道具"
layer_5/tile_data = PackedInt32Array(458787, 458754, 0, 327733, 589824, 5, 393269, 589824, 131078, 393268, 131073, 0, -65538, 524288, 12, -2, 524288, 12, 65534, 524288, 12, 131070, 524288, 12, 196606, 524288, 12, 262142, 524288, 12, 327678, 524288, 12, 393214, 524288, 12, 458750, 524288, 12, 524286, 524288, 12, 589822, 524288, 12, -65537, 524288, 12, -1, 524288, 12, 65535, 524288, 12, 131071, 524288, 12, 196607, 524288, 12, 262143, 524288, 12, 327679, 524288, 12, 393215, 524288, 12, 458751, 524288, 12, 524287, 524288, 12, 589823, 524288, 12, -524233, 524288, 12, -458697, 524288, 12, -393161, 524288, 12, -327625, 524288, 12, -262089, 524288, 12, -196553, 524288, 12, -131017, 524288, 12, -65481, 524288, 12, 55, 524288, 12, 65591, 524288, 12, 131127, 524288, 12, 196663, 524288, 12, 262199, 524288, 12, 327735, 524288, 12, 393271, 524288, 12, 458807, 524288, 12, 524343, 524288, 12, -524232, 524288, 12, -458696, 524288, 12, -393160, 524288, 12, -327624, 524288, 12, -262088, 524288, 12, -196552, 524288, 12, -131016, 524288, 12, -65480, 524288, 12, 56, 524288, 12, 65592, 524288, 12, 131128, 524288, 12, 196664, 524288, 12, 262200, 524288, 12, 327736, 524288, 12, 393272, 524288, 12, 458808, 524288, 12, 524344, 524288, 12, 393222, 327681, 1)
layer_6/name = "干涉形道具"
layer_6/tile_data = PackedInt32Array(131085, 196608, 0, 131083, 196608, 0, 131084, 0, 0, 28, 0, 9, 131086, 0, 9, 29, 0, 2, 30, 196608, 0, -458712, 0, 0, -458713, 0, 0, -458711, 0, 9)
script = ExtResource("2_n5aev")

[node name="TileAnimatedTimer" type="Timer" parent="TileMap"]
wait_time = 0.5
autostart = true

[node name="Player" parent="." instance=ExtResource("3_uf4m5")]
position = Vector2(295, 578)

[node name="Camera2D" type="Camera2D" parent="Player"]
limit_left = 50
limit_top = -450
limit_right = 3850
limit_bottom = 695
position_smoothing_enabled = true
drag_horizontal_enabled = true

[node name="Hud" parent="." instance=ExtResource("4_b22fk")]

[node name="Paral" type="ParallaxBackground" parent="."]

[node name="Sky" type="ParallaxLayer" parent="Paral"]
motion_scale = Vector2(0.2, 0.2)
motion_mirroring = Vector2(1500, 700)

[node name="Bg" type="Sprite2D" parent="Paral/Sky"]
position = Vector2(647, 437)
scale = Vector2(6.66406, 3.42188)
texture = ExtResource("5_jdpxj")

[node name="Cloud" type="ParallaxLayer" parent="Paral"]
motion_scale = Vector2(0.6, 0.6)
motion_mirroring = Vector2(1500, 800)

[node name="Sprite2D" type="Sprite2D" parent="Paral/Cloud"]
position = Vector2(80, 364)
texture = SubResource("AtlasTexture_pjx6y")

[node name="Sprite2D2" type="Sprite2D" parent="Paral/Cloud"]
position = Vector2(260, 192)
texture = SubResource("AtlasTexture_1wpqr")

[node name="Sprite2D3" type="Sprite2D" parent="Paral/Cloud"]
position = Vector2(370, 312)
texture = SubResource("AtlasTexture_ifcuq")

[node name="Sprite2D5" type="Sprite2D" parent="Paral/Cloud"]
position = Vector2(438, 472)
texture = SubResource("AtlasTexture_ifcuq")

[node name="Sprite2D4" type="Sprite2D" parent="Paral/Cloud"]
position = Vector2(408, 270)
texture = SubResource("AtlasTexture_ifcuq")

[node name="BGM" type="AudioStreamPlayer" parent="."]
stream = ExtResource("7_bcob7")
autoplay = true

[connection signal="timeout" from="TileMap/TileAnimatedTimer" to="TileMap" method="markAnimated"]
