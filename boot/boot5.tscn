[gd_scene load_steps=11 format=3 uid="uid://dgrdbco11uq32"]

[ext_resource type="Script" path="res://boot/boot.gd" id="1_qvowq"]
[ext_resource type="TileSet" uid="uid://drvfmo2x0n0i" path="res://level/tile_set.tres" id="2_b3xlu"]
[ext_resource type="Script" path="res://level/tile_animated.gd" id="3_rchf6"]
[ext_resource type="PackedScene" uid="uid://c4eprnllagbxq" path="res://player/player.tscn" id="5_immf1"]
[ext_resource type="Texture2D" uid="uid://byqmlyof4q6t4" path="res://asset/Backgrounds/bg_grasslands.png" id="6_ephxy"]
[ext_resource type="Texture2D" uid="uid://ph58hdih3cmf" path="res://asset/items_spritesheet.png" id="7_ht6r0"]
[ext_resource type="Theme" uid="uid://bko3k53nhg4rq" path="res://ui/items_label.tres" id="8_51366"]

[sub_resource type="AtlasTexture" id="AtlasTexture_hggq1"]
atlas = ExtResource("7_ht6r0")
region = Rect2(0, 73, 129, 71)

[sub_resource type="AtlasTexture" id="AtlasTexture_o27ex"]
atlas = ExtResource("7_ht6r0")
region = Rect2(0, 146, 128, 71)

[sub_resource type="AtlasTexture" id="AtlasTexture_r4ks5"]
atlas = ExtResource("7_ht6r0")
region = Rect2(0, 146, 128, 71)

[node name="Boot5" type="Node2D"]
script = ExtResource("1_qvowq")

[node name="TileMap" type="TileMap" parent="."]
position = Vector2(-127, -1104)
tile_set = ExtResource("2_b3xlu")
format = 2
layer_0/name = "地形"
layer_0/tile_data = PackedInt32Array(1441792, 65539, 2, 1507328, 65539, 2, 1441793, 65539, 2, 1507329, 65539, 2, 1441794, 65539, 2, 1507330, 65539, 2, 1441795, 65539, 2, 1507331, 65539, 2, 1441796, 65539, 2, 1507332, 65539, 2, 1441797, 65539, 2, 1507333, 65539, 2, 1441798, 65539, 2, 1507334, 65539, 2, 1441799, 65539, 2, 1507335, 65539, 2, 1441800, 65539, 2, 1507336, 65539, 2, 1441801, 65539, 2, 1507337, 65539, 2, 1441802, 65539, 2, 1507338, 65539, 2, 1441803, 65539, 2, 1507339, 65539, 2, 1376264, 393219, 1, 1376265, 131075, 1, 1376266, 131075, 1, 1376267, 131075, 1, 1572864, 65539, 2, 1572865, 65539, 2, 1572866, 65539, 2, 1572867, 65539, 2, 1572868, 65539, 2, 1572869, 65539, 2, 1572870, 65539, 2, 1572871, 65539, 2, 1572872, 65539, 2, 1572873, 65539, 2, 1572874, 65539, 2, 1572875, 65539, 2, 1507340, 524291, 3, 1507341, 393219, 3, 1441810, 131075, 4, 1507346, 458755, 3, 1507344, 393219, 3, 1507345, 393219, 3, 1441809, 131075, 4, 1638400, 65539, 2, 1638401, 65539, 2, 1638402, 65539, 2, 1638403, 65539, 2, 1638404, 65539, 2, 1638405, 65539, 2, 1638406, 65539, 2, 1638407, 65539, 2, 1638408, 65539, 2, 1638409, 65539, 2, 1638410, 65539, 2, 1638411, 65539, 2, 1638412, 65539, 2, 1638413, 65539, 2, 1638414, 65539, 2, 1638415, 65539, 2, 1638416, 65539, 2, 1638417, 65539, 2, 1638418, 65539, 2, 786430, 65539, 2, 851966, 65539, 2, 917502, 65539, 2, 983038, 65539, 2, 1048574, 65539, 2, 1114110, 65539, 2, 1179646, 65539, 2, 1245182, 65539, 2, 1310718, 65539, 2, 1376254, 65539, 2, 1441790, 65539, 2, 1507326, 65539, 2, 1572862, 65539, 2, 1638398, 65539, 2, 1703934, 65539, 2, 786431, 65539, 2, 851967, 65539, 2, 917503, 65539, 2, 983039, 65539, 2, 1048575, 65539, 2, 1114111, 65539, 2, 1179647, 65539, 2, 1245183, 65539, 2, 1310719, 65539, 2, 1376255, 65539, 2, 1441791, 65539, 2, 1507327, 65539, 2, 1572863, 65539, 2, 1638399, 65539, 2, 1703935, 65539, 2)
layer_1/name = "装饰"
layer_1/z_index = 2
layer_1/tile_data = PackedInt32Array(1441804, 262147, 4, 1441818, 786435, 2, 1572876, 458752, 0, 1572877, 458752, 0, 1572878, 458752, 0, 1572879, 458752, 0, 1572880, 458752, 0, 1572881, 458752, 0, 1572882, 458752, 0, 1507340, 393216, 11, 1507341, 393216, 11, 1507342, 393216, 11, 1507343, 393216, 11, 1507344, 393216, 11, 1507345, 393216, 11, 1507346, 393216, 11, 1376258, 262144, 3, 1376261, 262144, 4)
layer_2/name = "陷阱"
layer_2/tile_data = PackedInt32Array(1310731, 2, 1, 1310746, 2, 1, 1048597, 2, 1)
layer_3/name = "干涉地形"
layer_3/z_index = -1
layer_3/tile_data = PackedInt32Array()
layer_4/name = "可收集道具"
layer_4/tile_data = PackedInt32Array(1179703, 262146, 2, 1179702, 262146, 2)
layer_5/name = "可交互道具"
layer_5/tile_data = PackedInt32Array(1376319, 131075, 5)
layer_6/name = "干涉形道具"
layer_6/tile_data = PackedInt32Array()
script = ExtResource("3_rchf6")

[node name="TileAnimatedTimer" type="Timer" parent="TileMap"]
wait_time = 0.5
autostart = true

[node name="Player" parent="." instance=ExtResource("5_immf1")]
position = Vector2(166, 350)

[node name="Paral" type="ParallaxBackground" parent="."]

[node name="Sky" type="ParallaxLayer" parent="Paral"]
motion_scale = Vector2(0.2, 0.2)
motion_mirroring = Vector2(1500, 700)

[node name="Bg" type="Sprite2D" parent="Paral/Sky"]
self_modulate = Color(0.384314, 0.384314, 0.392157, 1)
position = Vector2(647, 437)
scale = Vector2(6.66406, 3.42188)
texture = ExtResource("6_ephxy")

[node name="Cloud" type="ParallaxLayer" parent="Paral"]
motion_scale = Vector2(0.6, 0.6)
motion_mirroring = Vector2(1500, 800)

[node name="Sprite2D" type="Sprite2D" parent="Paral/Cloud"]
self_modulate = Color(0.490196, 0.490196, 0.478431, 1)
position = Vector2(80, 364)
texture = SubResource("AtlasTexture_hggq1")

[node name="Sprite2D2" type="Sprite2D" parent="Paral/Cloud"]
self_modulate = Color(0.490196, 0.490196, 0.478431, 1)
position = Vector2(260, 192)
texture = SubResource("AtlasTexture_o27ex")

[node name="Sprite2D3" type="Sprite2D" parent="Paral/Cloud"]
self_modulate = Color(0.490196, 0.490196, 0.478431, 1)
position = Vector2(370, 312)
texture = SubResource("AtlasTexture_r4ks5")

[node name="Sprite2D5" type="Sprite2D" parent="Paral/Cloud"]
self_modulate = Color(0.490196, 0.490196, 0.478431, 1)
position = Vector2(438, 472)
texture = SubResource("AtlasTexture_r4ks5")

[node name="Sprite2D4" type="Sprite2D" parent="Paral/Cloud"]
self_modulate = Color(0.490196, 0.490196, 0.478431, 1)
position = Vector2(408, 270)
texture = SubResource("AtlasTexture_r4ks5")

[node name="hud" type="CanvasLayer" parent="."]

[node name="Start" type="Button" parent="hud"]
offset_left = -18.0
offset_top = 365.0
offset_right = 101.0
offset_bottom = 412.0
theme = ExtResource("8_51366")
text = "Start"

[node name="Exit" type="Button" parent="hud"]
offset_left = 205.0
offset_top = 363.0
offset_right = 321.0
offset_bottom = 410.0
theme = ExtResource("8_51366")
text = "Exit
"

[connection signal="timeout" from="TileMap/TileAnimatedTimer" to="TileMap" method="markAnimated"]
[connection signal="pressed" from="hud/Start" to="." method="start"]
[connection signal="pressed" from="hud/Exit" to="." method="exit"]
